<ng-container [ngSwitch]="status">
    <div *ngSwitchCase="Status.Success">
        <h1>Success</h1>
        <p>Your password has been updated.</p>
        <button routerLink="/auth/login">Go to login</button>
    </div>

    <div *ngSwitchDefault>
        <form (ngSubmit)="onPasswordSubmit()">
            <input type="password" placeholder="New password" [formControl]="passwordForm" required minlength="6"
                maxlength="20">
            <br>
            <div *ngIf="passwordForm.invalid && (passwordForm.dirty || passwordForm.touched)">
                <div *ngIf="passwordForm.errors?.['required']">
                    Password is required.
                </div>

                <div *ngIf="passwordForm.errors?.['minlength']">
                    Password must be at least 6 characters long.
                </div>

                <div *ngIf="passwordForm.errors?.['maxlength']">
                    Password cannot be more than 20 characters long.
                </div>
            </div>

            <div *ngIf="status === Status.Loading">
                Loading
            </div>

            <div *ngIf="status === Status.Error">
                No communication with server.
            </div>

            <button type="submit" [disabled]="passwordForm.invalid">Reset password</button>
        </form>
    </div>

</ng-container>